{#
# This file is part of Invenio.
# Copyright (C) 2014, 2015 CERN.
#
# Invenio is free software; you can redistribute it and/or
# modify it under the terms of the GNU General Public License as
# published by the Free Software Foundation; either version 2 of the
# License, or (at your option) any later version.
#
# Invenio is distributed in the hope that it will be useful, but
# WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with Invenio; if not, write to the Free Software Foundation, Inc.,
# 59 Temple Place, Suite 330, Boston, MA 02111-1307, USA.
#}

{% extends "invenio_workflows_ui/list.html" %}

{% from "inspire_workflows/macros.html" import batch_action_buttons %}

{% block javascript %}
{{ super() }}
{% assets "invenio_search_ui_search_js" %}
<script src="{{ ASSET_URL }}"></script>{% endassets %}
{% assets "inspire_workflows_ui_js_actions" %}
<script src="{{ ASSET_URL }}"></script>{% endassets %}
{% assets "inspirehep_holding_css" %}
<link href="{{ ASSET_URL }}" rel="stylesheet"/>{% endassets %}
{%- endblock javascript %}

{%- block list_container -%}
<div id="invenio-search">
  <invenio-search search-endpoint="/api/holdingpen"
                  search-extra-params='{"size": 25}'>
    {{super()}}
  </invenio-search>
</div>

<div class="holding-page-header">
  <ul class="pull-left">
    <li>Holding Pen</li>
    <li><a href="/holdingpen">Dashboard</a></li>
    <li class="active">List</li>
  </ul>

  <div class="pull-right">
    <form action="" class="hp-search-form">
      <input type="text" placeholder="Search the holding pen">
    </form>
  </div>
</div>
<div class="clearfix"></div>
<div class="row hp-container">
  <div class="col-md-2 hp-filters">
    <h4>Sort by</h4>
    <form>
      <select id="hp-sort-menu" class="form-control" role="menu" name="sort">
        <option value="_workflow.created_desc" selected>{{ _("Newest")}}
        </option>
        <option value="_workflow.created">{{ _("Oldest")}}</option>
        <option value="_workflow.modified_desc">{{ _("Recently updated")}}
        </option>
        <option value="_workflow.modified">{{ _("Least recently updated")}}
        </option>
        <option value="_workflow.relevance_score_desc">{{ _("Most relevant")}}
        </option>
        <option value="_workflow.relevance_score">{{ _("Least relevant")}}
        </option>
      </select>
    </form>

    <invenio-search-facets
      template="{{ url_for('static', filename='js/inspire_workflows_ui/templates/facets.html') }}">
    </invenio-search-facets>

  </div>

  <div class="col-md-10">
    {%- endblock -%}

    {% block help_bar %}
    <div id="help-bar" class="row">
      <div class="pull-left">
        <p class="text-muted">Ctrl+A: Select all, Esc: Deselect</p>
      </div>


      {{ batch_action_buttons() }}
    </div>
    {% endblock %}

    {% block navigation_check_all %}
    {% endblock %}
    {% block navigation_sort_selection %}
    {% endblock %}

    {% block batch_action_buttons_bottom %}
    {{ batch_action_buttons() }}
    {% endblock %}

    {% block table %}
    <invenio-search-results
      template="{{ url_for('static', filename='js/inspire_workflows_ui/templates/results.html') }}">
    </invenio-search-results>
    {% endblock %}

    {% block pagination %}
    <div class="col-md-12 col-sm-12 text-center">
      <invenio-search-pagination
        template="{{ url_for('static', filename='node_modules/inspirehep-search-js/dist/templates/pagination.html') }}">
      </invenio-search-pagination>
    </div>
    {% endblock pagination %}
