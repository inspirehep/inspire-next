{#
# This file is part of Invenio.
# Copyright (C) 2014, 2015 CERN.
#
# Invenio is free software; you can redistribute it and/or
# modify it under the terms of the GNU General Public License as
# published by the Free Software Foundation; either version 2 of the
# License, or (at your option) any later version.
#
# Invenio is distributed in the hope that it will be useful, but
# WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with Invenio; if not, write to the Free Software Foundation, Inc.,
# 59 Temple Place, Suite 330, Boston, MA 02111-1307, USA.
#}

{% extends "invenio_workflows_ui/list.html" %}

{% from "inspire_workflows/macros.html" import batch_action_buttons %}

{% block javascript %}
{{ super() }}
{% assets "inspire_workflows_ui_js_actions" %}
<script src="{{ ASSET_URL }}"></script>
{% endassets %}
{% assets "inspirehep_holding_css" %}
<link href="{{ ASSET_URL }}" rel="stylesheet"/>
{% endassets %}
{%- endblock javascript %}

{%- block list_container -%}
<div class="holding-page-header">
  <ul class="pull-left">
    <li>Holding Pen</li>
    <li><a href="/holdingpen">Dashboard</a></li>
    <li class="active">List</li>
  </ul>

  <div class="pull-right">
    <form action="" class="hp-search-form">
      <input type="text" placeholder="Search the holding pen">
    </form>
  </div>
</div>
<div class="clearfix"></div>
<div class="row hp-container">
  <div class="col-md-2 hp-filters">

    <h4>Sort by</h4>
    <form>
      <select id="hp-sort-menu" class="form-control" role="menu" name="sort">
        <option value="_workflow.created_desc" selected>{{ _("Newest")}}
        </option>
        <option value="_workflow.created">{{ _("Oldest")}}</option>
        <option value="_workflow.modified_desc">{{ _("Recently updated")}}
        </option>
        <option value="_workflow.modified">{{ _("Least recently updated")}}
        </option>
        <option value="_workflow.relevance_score_desc">{{ _("Most relevant")}}
        </option>
        <option value="_workflow.relevance_score">{{ _("Least relevant")}}
        </option>
      </select>
    </form>

    <h4>Filter by Type</h4>

    <ul class="type-facets">

      {% set type_facets = [
      {'class': 'authors', 'name': 'New Authors', 'count': 12, 'active': true},
      {'class': 'authors-update', 'name': 'Author Updates', 'count': 5,
      'active': false},
      {'class': 'literature', 'name': 'Literature', 'count': 12, 'active':
      true},
      {'class': 'oai-harvest', 'name': 'OAI Harvest', 'count': 5},
      {'class': 'arxiv', 'name': 'arXiv', 'count': 231}
      ] %}
      {% for type_facet in type_facets %}
      <li class="{{type_facet.class}} {%if type_facet.active%}active{%endif%}">
        <div class="row">
          <div class="col-md-9">{{type_facet.name}}</div>
          <div class="col-md-2 text-right">{{type_facet.count}}</div>
        </div>
        <div class="clearfix"></div>
      </li>
      {% endfor %}
    </ul>

    <h4>Filter by Status</h4>

    {% set status_facets = [
    {'class': 'inprogress', 'name': 'In Progress', 'count': 0, 'active': true},
    {'class': 'error', 'name': 'Error', 'count': 0, 'active': true},
    {'class': 'attention', 'name': 'Attention Required', 'count': 0, 'active':
    false},
    {'class': 'done', 'name': 'Done', 'count': 2, 'active': true}
    ] %}
    <ul class="type-facets">
      {% for type_facet in status_facets %}
      <li class="{{type_facet.class}} {%if type_facet.active%}active{%endif%}">
        <div class="row">
          <div class="col-md-9">{{type_facet.name}}</div>
          <div class="col-md-2 text-right">{{type_facet.count}}</div>
        </div>
        <div class="clearfix"></div>
      </li>
      {% endfor %}
    </ul>
  </div>

  <div class="col-md-10">
    {%- endblock -%}

    {% block help_bar %}
    <div id="help-bar" class="row">
      <div class="pull-left">
        <p class="text-muted">Ctrl+A: Select all, Esc: Deselect</p>
      </div>

      {{ batch_action_buttons() }}
    </div>
    {% endblock %}

    {% block navigation_check_all %}
    {% endblock %}
    {% block navigation_sort_selection %}
    {% endblock %}

    {% block batch_action_buttons_bottom %}
    {{ batch_action_buttons() }}
    {% endblock %}

    {% block table %}
    <table id="hp-list"
           cellpadding="0"
           cellspacing="0"
           border="0"
           class="table">
      <thead>
      <tr>
        <td class="hp-check" align="center">
          <input id="hp-list-select-all" type="checkbox">
        </td>
        <td class="hp-main-info">Name</td>
        <td class="hp-submission-info">Submission Info</td>
        <td class="hp-subject-areas">Subject Areas</td>
        <td class="hp-decision text-center">Decision</td>
      </tr>
      </thead>
      <tbody>
      </tbody>
    </table>

    {% endblock %}
