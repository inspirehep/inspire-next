{#
# This file is part of INSPIRE.
# Copyright (C) 2015, 2016 CERN.
#
# INSPIRE is free software; you can redistribute it and/or
# modify it under the terms of the GNU General Public License as
# published by the Free Software Foundation; either version 2 of the
# License, or (at your option) any later version.
#
# INSPIRE is distributed in the hope that it will be useful, but
# WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with INSPIRE; if not, write to the Free Software Foundation, Inc.,
# 59 Temple Place, Suite 330, Boston, MA 02111-1307, USA.
#}

{% from "format/record/Inspire_Default_HTML_general_macros.tpl" import mathjax %}

{% extends "inspirehep_theme/page.html" %}

{%- block header %}
  {{- super() }}
{%- endblock header %}

{% block global_bundles %}
  {{ super() }}
  {% bundles "detailed_record.js" %}
{% endblock %}

{% block body %}
  {{ super() }}

  <div id="record_content">
  {% block record_content %}
    <!-- record content -->
  {% endblock %}
  </div>
{% endblock %}

{%- block javascript %}
  {{ super() }}
  {{ mathjax() | safe }}
  <script type="text/javascript">
  require(
    [
      "jquery",
      "js/datatables",
    ],

    function(
      $,
      DataTables
    ) {
      DataTables.attachTo(document, {
        'recid': "{{recid}}",
        'collection': "{{collection}}",
        'citation_count': {{ record['citation_count'] }}
      });
    });
</script>
{%- endblock javascript %}
