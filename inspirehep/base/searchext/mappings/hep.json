{
    "settings": {
        "analysis": {
            "filter": {
                "asciifold_with_orig": {
                    "type": "icu_folding",
                    "preserve_original": true
                }
            },
            "analyzer": {
                "basic_analyzer": {
                    "type": "custom",
                    "tokenizer": "icu_tokenizer",
                    "filter": [
                        "asciifold_with_orig",
                        "lowercase"
                    ]
                }
            }
        },
        "index.percolator.map_unmapped_fields_as_string": true
    },
    "mappings": {
        "record": {
            "_all": {"enabled": false},
            "date_detection": false,
            "numeric_detection": false,
            "dynamic_templates": [
                {"default": {
                    "match_mapping_type": "string",
                    "mapping": {
                        "analyzer": "basic_analyzer",
                        "type": "string",
                        "copy_to": "global_fulltext"
                    }
                }
                }
            ],
            "properties": {
                "global_fulltext": {
                    "type": "string"
                },
                "global_default": {
                    "type": "string",
                    "analyzer": "basic_analyzer"
                },
                "_collections": {
                    "type": "string",
                    "index": "not_analyzed"
                },
                "hidden_notes": {
                    "type": "object",
                    "properties": {
                        "cds": {
                            "type": "string",
                            "index": "not_analyzed"
                        }
                    }
                },
                "accelerator_experiments": {
                    "type": "object",
                    "properties": {
                        "experiment": {
                            "type": "string",
                            "index": "not_analyzed"
                        }
                    }
                },
                "experimentautocomplete": {
                    "type": "string"
                },
                "experiment_name": {
                    "type": "string",
                    "copy_to": ["experimentautocomplete"]
                },
                "report_numbers": {
                    "type": "object",
                    "properties": {
                        "value": {
                            "type": "string",
                            "index": "not_analyzed"
                        }
                    }
                },
                "arxiv_eprints": {
                    "type": "object",
                    "properties": {
                        "value": {
                            "type": "string",
                            "index": "not_analyzed"
                        }
                    }
                },
                "collaboration": {
                    "type": "string",
                    "index": "not_analyzed"
                },
                "collections": {
                    "type": "object",
                    "properties": {
                        "primary": {
                            "type": "string",
                            "index": "not_analyzed"
                        },
                        "secondary": {
                            "type": "string",
                            "index": "not_analyzed"
                        }
                    }
                },
                "exactauthor": {
                    "type": "string",
                    "fields": {
                        "raw": {
                            "type": "string",
                            "index": "not_analyzed"
                        }
                    }
                },
                "affautocomplete": {
                    "type": "string"
                },
                "authors": {
                    "type": "nested",
                    "include_in_parent": true,
                    "properties": {
                        "full_name": {
                            "type": "string",
                            "copy_to": ["exactauthor"]
                        },
                        "affiliation": {
                            "type": "string"
                        },
                        "name_variations":{
                          "type": "string",
                          "index": "not_analyzed",
                          "copy_to": "global_fulltext"
                        },
                        "signature_block": {
                            "type": "string"
                        }
                    }
                },
                "division": {
                    "type": "string"
                },
                "date_and_time_of_latest_transaction": {
                    "type": "date",
                    "format": "yyyy||yyyyMM||yyyyMMdd||yyyyMMddHHmmss||yyyyMMddHHmmss.S"
                },
                "date": {
                    "type": "date",
                    "format": "yyyy||yyyyMM||yyyyMMdd||yyyyMMddHHmmss||yyyyMMddHHmmss.S||dd MM yyyy||dd MMM yyyy||MMM yyyy||MMM yyyy?||yyyy ('repr'.1964.)"
                },
                "earliest_date": {
                    "type": "date",
                    "format": "yyyy||yyyyMM||yyyyMMdd||yyyy-MM-dd||yyyyMMddHHmmss||yyyyMMddHHmmss.S||dd MM yyyy||dd MMM yyyy||MMM yyyy||MMM yyyy?||yyyy ('repr'.1964.)"
                },
                "institution": {
                    "type": "object",
                    "properties": {
                        "affiliation": {
                            "type": "string",
                            "copy_to": ["affautocomplete"]
                        }
                    }
                },
                "publication_info": {
                    "type": "object",
                    "properties": {
                        "journal_volume": {
                            "type": "string",
                            "index": "not_analyzed"
                        },
                        "year": {
                            "type": "integer"
                        }
                    }
                },
                "facet_inspire_subjects": {
                    "type": "string",
                    "index": "not_analyzed"
                },
                "facet_inspire_doc_type": {
                    "type": "string",
                    "index": "not_analyzed"
                }
            }
        }
    }
}
